/*!
 * pagepiling.js 1.5.4
 *
 * https://github.com/alvarotrigo/pagePiling.js
 * @license MIT licensed
 *
 * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
 */
!function(e,n,t,o){"use strict";e.fn.pagepiling=function(i){function a(){ke.css3&&(ke.css3=$()),u(),p(!0),e(t).on("load",D)}function s(){e(t).on("hashchange",X),e(n).on("keydown",d).on("click touchstart",ve+" a",c).on("mouseenter",ve+" li",r).on("mouseleave",ve+" li",l),ke.normalScrollElements&&(e(n).on("mouseenter",ke.normalScrollElements,function(){me.setMouseWheelScrolling(!1)}),e(n).on("mouseleave",ke.normalScrollElements,function(){me.setMouseWheelScrolling(!0)}))}function r(){var n=e(this).data("tooltip");e('<div class="pp-tooltip '+ke.navigation.position+'">'+n+"</div>").hide().appendTo(e(this)).fadeIn(200)}function l(){e(this).find(".pp-tooltip").fadeOut(200,function(){e(this).remove()})}function c(n){n.preventDefault();var t=e(this).parent().index();b(e(fe).eq(t))}function d(n){if(ke.keyboardScrolling&&!I())switch(n.which){case 38:case 33:me.moveSectionUp();break;case 40:case 34:me.moveSectionDown();break;case 36:me.moveTo(1);break;case 35:me.moveTo(e(fe).length);break;case 37:me.moveSectionUp();break;case 39:me.moveSectionDown();break;default:return}}function u(){e(ke.sectionSelector).each(function(){e(this).addClass(ue)}),e(ge).css({overflow:"hidden","-ms-touch-action":"none","touch-action":"none"}),ge.addClass(ae),e("html").addClass(re),e.isEmptyObject(ke.navigation)||G();var n=e(fe).length;e(fe).each(function(t){e(this).data("data-index",t),e(this).css("z-index",n),t||0!==e(he).length||e(this).addClass(ce),"undefined"!=typeof ke.anchors[t]&&e(this).attr("data-anchor",ke.anchors[t]),"undefined"!=typeof ke.sectionsColor[t]&&e(this).css("background-color",ke.sectionsColor[t]),ke.verticalCentered&&!e(this).hasClass("pp-scrollable")&&w(e(this)),n-=1}).promise().done(function(){ke.navigation&&(e(ve).css("margin-top","-"+e(ve).height()/2+"px"),e(ve).find("li").eq(e(he).index(fe)).find("a").addClass(ce)),e.isFunction(ke.afterRender)&&ke.afterRender.call(this)})}function f(e){ke.scrollingSpeed=e}function h(e){e?A():W()}function p(e){e?(me.setMouseWheelScrolling(!0),B()):(me.setMouseWheelScrolling(!1),F())}function v(e){ke.keyboardScrolling=e}function m(){var n=e(he).prev(fe);!n.length&&ke.loopTop&&(n=e(fe).last()),n.length&&b(n)}function g(){var n=e(he).next(fe);!n.length&&ke.loopBottom&&(n=e(fe).first()),n.length&&b(n)}function S(t){var o="";o=isNaN(t)?e(n).find('[data-anchor="'+t+'"]'):e(fe).eq(t-1),o.length>0&&b(o)}function w(e){e.addClass("pp-table").wrapInner('<div class="pp-tableCell" style="height:100%" />')}function y(n){var t=e(he).index(fe),o=n.index(fe);return t>o?"up":"down"}function b(n,t){var o={destination:n,animated:t,activeSection:e(he),anchorLink:n.data("anchor"),sectionIndex:n.index(fe),toMove:n,yMovement:y(n),leavingSection:e(he).index(fe)+1};if(!o.activeSection.is(n)){"undefined"==typeof o.animated&&(o.animated=!0),"undefined"!=typeof o.anchorLink&&E(o.anchorLink,o.sectionIndex),o.destination.addClass(ce).siblings().removeClass(ce),o.sectionsToMove=C(o),"down"===o.yMovement?(o.translate3d=_(),o.scrolling="-100%",ke.css3||o.sectionsToMove.each(function(n){n!=o.activeSection.index(fe)&&e(this).css(k(o.scrolling))}),o.animateSection=o.activeSection):(o.translate3d="translate3d(0px, 0px, 0px)",o.scrolling="0",o.animateSection=n),e.isFunction(ke.onLeave)&&ke.onLeave.call(this,o.leavingSection,o.sectionIndex+1,o.yMovement),x(o),Z(o.anchorLink),J(o.anchorLink,o.sectionIndex),te=o.anchorLink;var i=(new Date).getTime();Se=i}}function x(n){ke.css3?(Y(n.animateSection,n.translate3d,n.animated),n.sectionsToMove.each(function(){Y(e(this),n.translate3d,n.animated)}),setTimeout(function(){M(n)},ke.scrollingSpeed)):(n.scrollOptions=k(n.scrolling),n.animated?n.animateSection.animate(n.scrollOptions,ke.scrollingSpeed,ke.easing,function(){T(n),M(n)}):(n.animateSection.css(k(n.scrolling)),setTimeout(function(){T(n),M(n)},400)))}function M(n){e.isFunction(ke.afterLoad)&&ke.afterLoad.call(this,n.anchorLink,n.sectionIndex+1)}function C(n){var t;return t="down"===n.yMovement?e(fe).map(function(t){if(t<n.destination.index(fe))return e(this)}):e(fe).map(function(t){if(t>n.destination.index(fe))return e(this)})}function T(n){"up"===n.yMovement&&n.sectionsToMove.each(function(t){e(this).css(k(n.scrolling))})}function k(e){return"vertical"===ke.direction?{top:e}:{left:e}}function E(e,n){ke.anchors.length?(location.hash=e,L(location.hash)):L(String(n))}function L(e){e=e.replace("#",""),ie[0].className=ie[0].className.replace(/\b\s?pp-viewing-[^\s]+\b/g,""),ie.addClass("pp-viewing-"+e)}function D(){var o=t.location.hash.replace("#",""),i=o,a=e(n).find(fe+'[data-anchor="'+i+'"]');a.length>0&&b(a,ke.animateAnchor)}function I(){var e=(new Date).getTime();return e-Se<Te+ke.scrollingSpeed}function X(){var o=t.location.hash.replace("#","").split("/"),i=o[0];if(i.length&&i&&i!==te){var a;a=isNaN(i)?e(n).find('[data-anchor="'+i+'"]'):e(fe).eq(i-1),b(a)}}function P(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function Y(e,n,t){e.toggleClass("pp-easing",t),e.css(P(n))}function N(n){var o=(new Date).getTime();n=n||t.event;var i=n.wheelDelta||-n.deltaY||-n.detail,a=Math.max(-1,Math.min(1,i)),s="undefined"!=typeof n.wheelDeltaX||"undefined"!=typeof n.deltaX,r=Math.abs(n.wheelDeltaX)<Math.abs(n.wheelDelta)||Math.abs(n.deltaX)<Math.abs(n.deltaY)||!s;Ce.length>149&&Ce.shift(),Ce.push(Math.abs(i));var l=o-Ee;if(Ee=o,l>200&&(Ce=[]),!I()){var c=e(he),d=U(c),u=q(Ce,10),f=q(Ce,70),h=u>=f;return h&&r&&(a<0?z("down",d):a>0&&z("up",d)),!1}}function q(e,n){for(var t=0,o=e.slice(Math.max(e.length-n,1)),i=0;i<o.length;i++)t+=o[i];return Math.ceil(t/n)}function z(e,n){var t,o;if("down"==e?(t="bottom",o=me.moveSectionDown):(t="top",o=me.moveSectionUp),n.length>0){if(!O(t,n))return!0;o()}else o()}function O(e,n){return"top"===e?!n.scrollTop():"bottom"===e?n.scrollTop()+1+n.innerHeight()>=n[0].scrollHeight:void 0}function U(e){return e.filter(".pp-scrollable")}function W(){ge.get(0).addEventListener?(ge.get(0).removeEventListener("mousewheel",N,!1),ge.get(0).removeEventListener("wheel",N,!1)):ge.get(0).detachEvent("onmousewheel",N)}function A(){ge.get(0).addEventListener?(ge.get(0).addEventListener("mousewheel",N,!1),ge.get(0).addEventListener("wheel",N,!1)):ge.get(0).attachEvent("onmousewheel",N)}function B(){if(we){var e=Q();ge.off("touchstart "+e.down).on("touchstart "+e.down,H),ge.off("touchmove "+e.move).on("touchmove "+e.move,K)}}function F(){if(we){var e=Q();ge.off("touchstart "+e.down),ge.off("touchmove "+e.move)}}function Q(){var e;return e=t.PointerEvent?{down:"pointerdown",move:"pointermove",up:"pointerup"}:{down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"}}function R(e){var n=new Array;return n.y="undefined"!=typeof e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,n.x="undefined"!=typeof e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,n}function j(e){return"undefined"==typeof e.pointerType||"mouse"!=e.pointerType}function H(e){var n=e.originalEvent;if(j(n)){var t=R(n);ye=t.y,be=t.x}}function K(n){var t=n.originalEvent;if(!V(n.target)&&j(t)){var o=e(he),i=U(o);if(i.length||n.preventDefault(),!I()){var a=R(t);xe=a.y,Me=a.x,"horizontal"===ke.direction&&Math.abs(be-Me)>Math.abs(ye-xe)?Math.abs(be-Me)>ge.width()/100*ke.touchSensitivity&&(be>Me?z("down",i):Me>be&&z("up",i)):Math.abs(ye-xe)>ge.height()/100*ke.touchSensitivity&&(ye>xe?z("down",i):xe>ye&&z("up",i))}}}function V(n,t){t=t||0;var o=e(n).parent();return!!(t<ke.normalScrollElementTouchThreshold&&o.is(ke.normalScrollElements))||t!=ke.normalScrollElementTouchThreshold&&V(o,++t)}function G(){ie.append('<div id="'+pe+'"><ul></ul></div>');var n=e(ve);n.css("color",ke.navigation.textColor),n.addClass(ke.navigation.position);for(var t=0;t<e(fe).length;t++){var o="";if(ke.anchors.length&&(o=ke.anchors[t]),"undefined"!==ke.navigation.tooltips){var i=ke.navigation.tooltips[t];"undefined"==typeof i&&(i="")}n.find("ul").append('<li data-tooltip="'+i+'"><a href="#'+o+'"><span></span></a></li>')}n.find("span").css("border-color",ke.navigation.bulletsColor)}function J(n,t){ke.navigation&&(e(ve).find(de).removeClass(ce),n?e(ve).find('a[href="#'+n+'"]').addClass(ce):e(ve).find("li").eq(t).find("a").addClass(ce))}function Z(n){ke.menu&&(e(ke.menu).find(de).removeClass(ce),e(ke.menu).find('[data-menuanchor="'+n+'"]').addClass(ce))}function $(){var e,i=n.createElement("p"),a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};n.body.insertBefore(i,null);for(var s in a)i.style[s]!==o&&(i.style[s]="translate3d(1px,1px,1px)",e=t.getComputedStyle(i).getPropertyValue(a[s]));return n.body.removeChild(i),e!==o&&e.length>0&&"none"!==e}function _(){return"vertical"!==ke.direction?"translate3d(-100%, 0px, 0px)":"translate3d(0px, -100%, 0px)"}function ee(){p(!1),v(!1),ge.addClass(le),e(t).off("hashchange",X),e(n).off("keydown",d).off("click touchstart",ve+" a",c).off("mouseenter",ve+" li",r).off("mouseleave",ve+" li",l),ne()}function ne(){e(ve).remove(),ge.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),oe.css({overflow:"",height:""}),e("html").removeClass(re),e(fe).removeClass(ue),e(se).removeClass(ae)}console.log("> test log");var te,oe=e("html, body"),ie=e("body"),ae="pp-wrapper",se="."+ae,re="pp-enabled",le="pp-destroyed",ce="active",de="."+ce,ue="pp-section",fe="."+ue,he=fe+de,pe="pp-nav",ve="#"+pe,me=e.fn.pagepiling,ge=e(this),Se=0,we="ontouchstart"in t||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,ye=0,be=0,xe=0,Me=0,Ce=[],Te=600,ke=e.extend(!0,{direction:"vertical",menu:null,verticalCentered:!0,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",loopBottom:!1,loopTop:!1,css3:!0,navigation:{textColor:"#000",bulletsColor:"#000",position:"right",tooltips:[]},normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,keyboardScrolling:!0,sectionSelector:".section",animateAnchor:!1,afterLoad:null,onLeave:null,afterRender:null},i);e.extend(e.easing,{easeInQuart:function(e,n,t,o,i){return o*(n/=i)*n*n*n+t}}),e(this).length&&(me.setMouseWheelScrolling=h,me.setAllowScrolling=p,me.setKeyboardScrolling=v,me.moveSectionUp=m,me.moveSectionDown=g,me.moveTo=S,me.setScrollingSpeed=f,me.destroy=ee,a(),s());var Ee=(new Date).getTime()}}(jQuery,document,window);
//# sourceMappingURL=jquery.pagepiling.min.js.map
