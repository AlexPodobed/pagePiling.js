{"version":3,"sources":["jquery.pagepiling.js"],"names":["$","document","window","undefined","fn","pagepiling","custom","init","options","css3","support3d","prepareDom","setAllowScrolling","on","scrollToAnchor","bindEvents","hashChangeHandler","keydownHandler","SECTION_NAV_SEL","sectionBulletHandler","displayTooltip","hideTooltip","normalScrollElements","PP","setMouseWheelScrolling","tooltip","this","data","navigation","position","hide","appendTo","fadeIn","find","fadeOut","remove","e","preventDefault","index","parent","scrollPage","SECTION_SEL","eq","keyboardScrolling","isMoving","which","moveSectionUp","moveSectionDown","moveTo","length","sectionSelector","each","addClass","SECTION","container","css","overflow","-ms-touch-action","touch-action","WRAPPER","ENABLED","isEmptyObject","addVerticalNavigation","zIndex","SECTION_ACTIVE_SEL","ACTIVE","anchors","attr","sectionsColor","verticalCentered","hasClass","addTableClass","promise","done","height","isFunction","afterRender","call","setScrollingSpeed","value","scrollingSpeed","addMouseWheelHandler","removeMouseWheelHandler","addTouchHandler","removeTouchHandler","setKeyboardScrolling","prev","loopTop","last","next","loopBottom","first","section","destiny","isNaN","element","wrapInner","getYmovement","fromIndex","toIndex","destination","animated","v","activeSection","anchorLink","sectionIndex","toMove","yMovement","leavingSection","is","setURLHash","siblings","removeClass","sectionsToMove","getSectionsToMove","translate3d","getTranslate3d","scrolling","getScrollProp","animateSection","onLeave","performMovement","activateMenuElement","activateNavDots","lastScrolledDestiny","timeNow","Date","getTime","lastAnimation","transformContainer","setTimeout","afterSectionLoads","scrollOptions","animate","easing","readjustSections","afterLoad","sectionToMove","map","propertyValue","direction","top","left","location","hash","setBodyClass","String","text","replace","$body","className","sectionAnchor","animateAnchor","scrollDelay","split","getTransforms","-webkit-transform","-moz-transform","-ms-transform","transform","toggleClass","MouseWheelHandler","curTime","event","wheelDelta","deltaY","detail","delta","Math","max","min","horizontalDetection","wheelDeltaX","deltaX","isScrollingVertically","abs","scrollings","shift","push","timeDiff","prevTime","scrollable","isScrollable","averageEnd","getAverage","averageMiddle","isAccelerating","elements","number","sum","lastElements","slice","i","ceil","type","check","scrollSection","isScrolled","scrollTop","innerHeight","scrollHeight","filter","get","addEventListener","removeEventListener","detachEvent","attachEvent","isTouch","MSPointer","getMSPointer","off","down","touchStartHandler","move","touchMoveHandler","pointer","PointerEvent","up","getEventsPage","events","Array","y","pageY","pageX","touches","x","isReallyTouch","pointerType","originalEvent","touchEvents","touchStartY","touchStartX","checkParentForNormalScrollElement","target","touchEndY","touchEndX","width","touchSensitivity","el","hop","normalScrollElementTouchThreshold","append","SECTION_NAV","nav","textColor","cont","link","tooltips","bulletsColor","name","ACTIVE_SEL","menu","has3d","createElement","transforms","webkitTransform","OTransform","msTransform","MozTransform","body","insertBefore","t","style","getComputedStyle","getPropertyValue","removeChild","destroy","DESTROYED","destroyStructure","$htmlBody","WRAPPER_SEL","console","log","navigator","msMaxTouchPoints","extend","easeInQuart","b","c","d","jQuery"],"mappings":"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","file":"jquery.pagepiling.min.js","sourcesContent":["/*!\r\n * pagepiling.js 1.5.4\r\n *\r\n * https://github.com/alvarotrigo/pagePiling.js\r\n * @license MIT licensed\r\n *\r\n * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo\r\n */\r\n(function ($, document, window, undefined) {\r\n    'use strict';\r\n\r\n    $.fn.pagepiling = function (custom) {\r\n        console.log('> test log');\r\n        var $htmlBody = $('html, body');\r\n        var $body = $('body');\r\n\r\n        var WRAPPER = 'pp-wrapper';\r\n        var WRAPPER_SEL = '.' + WRAPPER;\r\n        var ENABLED = 'pp-enabled';\r\n        var DESTROYED = 'pp-destroyed';\r\n        var ACTIVE = 'active';\r\n        var ACTIVE_SEL = '.' + ACTIVE;\r\n        var SECTION = 'pp-section';\r\n        var SECTION_SEL = '.' + SECTION;\r\n        var SECTION_ACTIVE_SEL = SECTION_SEL + ACTIVE_SEL;\r\n        var SECTION_NAV = 'pp-nav';\r\n        var SECTION_NAV_SEL = '#' + SECTION_NAV;\r\n\r\n        var PP = $.fn.pagepiling;\r\n        var container = $(this);\r\n        var lastScrolledDestiny;\r\n        var lastAnimation = 0;\r\n        var isTouch = (('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0) || (navigator.maxTouchPoints));\r\n        var touchStartY = 0, touchStartX = 0, touchEndY = 0, touchEndX = 0;\r\n        var scrollings = [];\r\n\r\n        //Defines the delay to take place before being able to scroll to the next section\r\n        //BE CAREFUL! Not recommened to change it under 400 for a good behavior in laptops and\r\n        //Apple devices (laptops, mouses...)\r\n        var scrollDelay = 600;\r\n\r\n        // Create some defaults, extending them with any options that were provided\r\n        var options = $.extend(true, {\r\n            direction: 'vertical',\r\n            menu: null,\r\n            verticalCentered: true,\r\n            sectionsColor: [],\r\n            anchors: [],\r\n            scrollingSpeed: 700,\r\n            easing: 'easeInQuart',\r\n            loopBottom: false,\r\n            loopTop: false,\r\n            css3: true,\r\n            navigation: {\r\n                textColor: '#000',\r\n                bulletsColor: '#000',\r\n                position: 'right',\r\n                tooltips: []\r\n            },\r\n            normalScrollElements: null,\r\n            normalScrollElementTouchThreshold: 5,\r\n            touchSensitivity: 5,\r\n            keyboardScrolling: true,\r\n            sectionSelector: '.section',\r\n            animateAnchor: false,\r\n\r\n            //events\r\n            afterLoad: null,\r\n            onLeave: null,\r\n            afterRender: null\r\n        }, custom);\r\n\r\n\r\n        //easeInQuart animation included in the plugin\r\n        $.extend($.easing, {\r\n            easeInQuart: function (x, t, b, c, d) {\r\n                return c * (t /= d) * t * t * t + b;\r\n            }\r\n        });\r\n\r\n        if ($(this).length) {\r\n            // public functions\r\n            PP.setMouseWheelScrolling = setMouseWheelScrolling;\r\n            PP.setAllowScrolling = setAllowScrolling;\r\n            PP.setKeyboardScrolling = setKeyboardScrolling;\r\n            PP.moveSectionUp = moveSectionUp;\r\n            PP.moveSectionDown = moveSectionDown;\r\n            PP.moveTo = moveTo;\r\n            PP.setScrollingSpeed = setScrollingSpeed;\r\n            PP.destroy = destroy;\r\n\r\n            init();\r\n            bindEvents();\r\n        }\r\n\r\n        function init() {\r\n            //if css3 is not supported, it will use jQuery animations\r\n            if (options.css3) {\r\n                options.css3 = support3d();\r\n            }\r\n            prepareDom();\r\n            setAllowScrolling(true);\r\n            $(window).on('load', scrollToAnchor);\r\n        }\r\n\r\n        function bindEvents() {\r\n            //detecting any change on the URL to scroll to the given anchor link\r\n            //(a way to detect back history button as we play with the hashes on the URL)\r\n            $(window).on('hashchange', hashChangeHandler);\r\n\r\n            $(document)\r\n            /**\r\n             * Sliding with arrow keys, both, vertical and horizontal\r\n             */\r\n                .on('keydown', keydownHandler)\r\n                /**\r\n                 * Scrolls to the section when clicking the navigation bullet\r\n                 */\r\n                .on('click touchstart', SECTION_NAV_SEL + ' a', sectionBulletHandler)\r\n                /**\r\n                 * Navigation tooltips\r\n                 */\r\n                .on('mouseenter', SECTION_NAV_SEL + ' li', displayTooltip)\r\n                .on('mouseleave', SECTION_NAV_SEL + ' li', hideTooltip);\r\n\r\n            /**\r\n             * If `normalScrollElements` is used, the mouse wheel scrolling will scroll normally\r\n             * over the defined elements in the option.\r\n             */\r\n            if (options.normalScrollElements) {\r\n                $(document).on('mouseenter', options.normalScrollElements, function () {\r\n                    PP.setMouseWheelScrolling(false);\r\n                });\r\n\r\n                $(document).on('mouseleave', options.normalScrollElements, function () {\r\n                    PP.setMouseWheelScrolling(true);\r\n                });\r\n            }\r\n        }\r\n\r\n        function displayTooltip() {\r\n            var tooltip = $(this).data('tooltip');\r\n            $('<div class=\"pp-tooltip ' + options.navigation.position + '\">' + tooltip + '</div>')\r\n                .hide()\r\n                .appendTo($(this))\r\n                .fadeIn(200);\r\n        }\r\n\r\n        function hideTooltip() {\r\n            $(this).find('.pp-tooltip').fadeOut(200, function () {\r\n                $(this).remove();\r\n            });\r\n        }\r\n\r\n        //Scrolls to the section when clicking the navigation bullet\r\n        function sectionBulletHandler(e) {\r\n            e.preventDefault();\r\n            var index = $(this).parent().index();\r\n            scrollPage($(SECTION_SEL).eq(index));\r\n        }\r\n\r\n        function keydownHandler(e) {\r\n            if (options.keyboardScrolling && !isMoving()) {\r\n                //Moving the main page with the keyboard arrows if keyboard scrolling is enabled\r\n                switch (e.which) {\r\n                    //up\r\n                    case 38:\r\n                    case 33:\r\n                        PP.moveSectionUp();\r\n                        break;\r\n\r\n                    //down\r\n                    case 40:\r\n                    case 34:\r\n                        PP.moveSectionDown();\r\n                        break;\r\n\r\n                    //Home\r\n                    case 36:\r\n                        PP.moveTo(1);\r\n                        break;\r\n\r\n                    //End\r\n                    case 35:\r\n                        PP.moveTo($(SECTION_SEL).length);\r\n                        break;\r\n\r\n                    //left\r\n                    case 37:\r\n                        PP.moveSectionUp();\r\n                        break;\r\n\r\n                    //right\r\n                    case 39:\r\n                        PP.moveSectionDown();\r\n                        break;\r\n\r\n                    default:\r\n                        return; // exit this handler for other keys\r\n                }\r\n            }\r\n        }\r\n\r\n        function prepareDom() {\r\n            //adding internal class names to void problem with common ones\r\n            $(options.sectionSelector).each(function () {\r\n                $(this).addClass(SECTION);\r\n            });\r\n\r\n            $(container).css({\r\n                'overflow': 'hidden',\r\n                '-ms-touch-action': 'none', /* Touch detection for Windows 8 */\r\n                'touch-action': 'none'       /* IE 11 on Windows Phone 8.1*/\r\n            });\r\n\r\n            //adding a class to recognize the container internally in the code\r\n            container.addClass(WRAPPER);\r\n            $('html').addClass(ENABLED);\r\n\r\n            //creating the navigation dots\r\n            if (!$.isEmptyObject(options.navigation)) {\r\n                addVerticalNavigation();\r\n            }\r\n\r\n            var zIndex = $(SECTION_SEL).length;\r\n\r\n            $(SECTION_SEL).each(function (index) {\r\n                $(this).data('data-index', index);\r\n                $(this).css('z-index', zIndex);\r\n\r\n                //if no active section is defined, the 1st one will be the default one\r\n                if (!index && $(SECTION_ACTIVE_SEL).length === 0) {\r\n                    $(this).addClass(ACTIVE);\r\n                }\r\n\r\n                if (typeof options.anchors[index] !== 'undefined') {\r\n                    $(this).attr('data-anchor', options.anchors[index]);\r\n                }\r\n\r\n                if (typeof options.sectionsColor[index] !== 'undefined') {\r\n                    $(this).css('background-color', options.sectionsColor[index]);\r\n                }\r\n\r\n                if (options.verticalCentered && !$(this).hasClass('pp-scrollable')) {\r\n                    addTableClass($(this));\r\n                }\r\n\r\n                zIndex = zIndex - 1;\r\n            }).promise().done(function () {\r\n                //vertical centered of the navigation + first bullet active\r\n                if (options.navigation) {\r\n                    $(SECTION_NAV_SEL).css('margin-top', '-' + ($(SECTION_NAV_SEL).height() / 2) + 'px');\r\n                    $(SECTION_NAV_SEL).find('li').eq($(SECTION_ACTIVE_SEL).index(SECTION_SEL)).find('a').addClass(ACTIVE);\r\n                }\r\n\r\n                $.isFunction(options.afterRender) && options.afterRender.call(this);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Defines the scrolling speed\r\n         */\r\n        function setScrollingSpeed(value) {\r\n            options.scrollingSpeed = value;\r\n        }\r\n\r\n        /**\r\n         * Adds or remove the possiblity of scrolling through sections by using the mouse wheel or the trackpad.\r\n         */\r\n        function setMouseWheelScrolling(value) {\r\n            if (value) {\r\n                addMouseWheelHandler();\r\n            } else {\r\n                removeMouseWheelHandler();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Adds or remove the possiblity of scrolling through sections by using the mouse wheel/trackpad or touch gestures.\r\n         */\r\n        function setAllowScrolling(value) {\r\n            if (value) {\r\n                PP.setMouseWheelScrolling(true);\r\n                addTouchHandler();\r\n            } else {\r\n                PP.setMouseWheelScrolling(false);\r\n                removeTouchHandler();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Adds or remove the possiblity of scrolling through sections by using the keyboard arrow keys\r\n         */\r\n        function setKeyboardScrolling(value) {\r\n            options.keyboardScrolling = value;\r\n        }\r\n\r\n        /**\r\n         * Moves sectio up\r\n         */\r\n        function moveSectionUp() {\r\n            var prev = $(SECTION_ACTIVE_SEL).prev(SECTION_SEL);\r\n\r\n            //looping to the bottom if there's no more sections above\r\n            if (!prev.length && options.loopTop) {\r\n                prev = $(SECTION_SEL).last();\r\n            }\r\n\r\n            if (prev.length) {\r\n                scrollPage(prev);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Moves sectio down\r\n         */\r\n        function moveSectionDown() {\r\n            var next = $(SECTION_ACTIVE_SEL).next(SECTION_SEL);\r\n\r\n            //looping to the top if there's no more sections below\r\n            if (!next.length && options.loopBottom) {\r\n                next = $(SECTION_SEL).first();\r\n            }\r\n\r\n            if (next.length) {\r\n                scrollPage(next);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Moves the site to the given anchor or index\r\n         */\r\n        function moveTo(section) {\r\n            var destiny = '';\r\n\r\n            if (isNaN(section)) {\r\n                destiny = $(document).find('[data-anchor=\"' + section + '\"]');\r\n            } else {\r\n                destiny = $(SECTION_SEL).eq((section - 1));\r\n            }\r\n\r\n\r\n            if (destiny.length > 0) {\r\n                scrollPage(destiny);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Enables vertical centering by wrapping the content and the use of table and table-cell\r\n         */\r\n        function addTableClass(element) {\r\n            element.addClass('pp-table').wrapInner('<div class=\"pp-tableCell\" style=\"height:100%\" />');\r\n        }\r\n\r\n        /**\r\n         * Retuns `up` or `down` depending on the scrolling movement to reach its destination\r\n         * from the current section.\r\n         */\r\n        function getYmovement(destiny) {\r\n            var fromIndex = $(SECTION_ACTIVE_SEL).index(SECTION_SEL);\r\n            var toIndex = destiny.index(SECTION_SEL);\r\n\r\n            if (fromIndex > toIndex) {\r\n                return 'up';\r\n            }\r\n            return 'down';\r\n        }\r\n\r\n        /**\r\n         * Scrolls the page to the given destination\r\n         */\r\n        function scrollPage(destination, animated) {\r\n            var v = {\r\n                destination: destination,\r\n                animated: animated,\r\n                activeSection: $(SECTION_ACTIVE_SEL),\r\n                anchorLink: destination.data('anchor'),\r\n                sectionIndex: destination.index(SECTION_SEL),\r\n                toMove: destination,\r\n                yMovement: getYmovement(destination),\r\n                leavingSection: $(SECTION_ACTIVE_SEL).index(SECTION_SEL) + 1\r\n            };\r\n\r\n            //quiting when activeSection is the target element\r\n            if (v.activeSection.is(destination)) {\r\n                return;\r\n            }\r\n\r\n            if (typeof v.animated === 'undefined') {\r\n                v.animated = true;\r\n            }\r\n\r\n            if (typeof v.anchorLink !== 'undefined') {\r\n                setURLHash(v.anchorLink, v.sectionIndex);\r\n            }\r\n\r\n            v.destination.addClass(ACTIVE).siblings().removeClass(ACTIVE);\r\n\r\n            v.sectionsToMove = getSectionsToMove(v);\r\n\r\n            //scrolling down (moving sections up making them disappear)\r\n            if (v.yMovement === 'down') {\r\n                v.translate3d = getTranslate3d();\r\n                v.scrolling = '-100%';\r\n\r\n                if (!options.css3) {\r\n                    v.sectionsToMove.each(function (index) {\r\n                        if (index != v.activeSection.index(SECTION_SEL)) {\r\n                            $(this).css(getScrollProp(v.scrolling));\r\n                        }\r\n                    });\r\n                }\r\n\r\n                v.animateSection = v.activeSection;\r\n            }\r\n\r\n            //scrolling up (moving section down to the viewport)\r\n            else {\r\n                v.translate3d = 'translate3d(0px, 0px, 0px)';\r\n                v.scrolling = '0';\r\n\r\n                v.animateSection = destination;\r\n            }\r\n\r\n            $.isFunction(options.onLeave) && options.onLeave.call(this, v.leavingSection, (v.sectionIndex + 1), v.yMovement);\r\n\r\n            performMovement(v);\r\n\r\n            activateMenuElement(v.anchorLink);\r\n            activateNavDots(v.anchorLink, v.sectionIndex);\r\n            lastScrolledDestiny = v.anchorLink;\r\n\r\n            var timeNow = new Date().getTime();\r\n            lastAnimation = timeNow;\r\n        }\r\n\r\n        /**\r\n         * Performs the movement (by CSS3 or by jQuery)\r\n         */\r\n        function performMovement(v) {\r\n            if (options.css3) {\r\n                transformContainer(v.animateSection, v.translate3d, v.animated);\r\n\r\n                v.sectionsToMove.each(function () {\r\n                    transformContainer($(this), v.translate3d, v.animated);\r\n                });\r\n\r\n                setTimeout(function () {\r\n                    afterSectionLoads(v);\r\n                }, options.scrollingSpeed);\r\n            } else {\r\n                v.scrollOptions = getScrollProp(v.scrolling);\r\n\r\n                if (v.animated) {\r\n                    v.animateSection.animate(\r\n                        v.scrollOptions,\r\n                        options.scrollingSpeed, options.easing, function () {\r\n                            readjustSections(v);\r\n                            afterSectionLoads(v);\r\n                        });\r\n                } else {\r\n                    v.animateSection.css(getScrollProp(v.scrolling));\r\n                    setTimeout(function () {\r\n                        readjustSections(v);\r\n                        afterSectionLoads(v);\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Actions to execute after a secion is loaded\r\n         */\r\n        function afterSectionLoads(v) {\r\n            //callback (afterLoad) if the site is not just resizing and readjusting the slides\r\n            $.isFunction(options.afterLoad) && options.afterLoad.call(this, v.anchorLink, (v.sectionIndex + 1));\r\n        }\r\n\r\n        function getSectionsToMove(v) {\r\n            var sectionToMove;\r\n\r\n            if (v.yMovement === 'down') {\r\n                sectionToMove = $(SECTION_SEL).map(function (index) {\r\n                    if (index < v.destination.index(SECTION_SEL)) {\r\n                        return $(this);\r\n                    }\r\n                });\r\n            } else {\r\n                sectionToMove = $(SECTION_SEL).map(function (index) {\r\n                    if (index > v.destination.index(SECTION_SEL)) {\r\n                        return $(this);\r\n                    }\r\n                });\r\n            }\r\n\r\n            return sectionToMove;\r\n        }\r\n\r\n        /**\r\n         * Returns the sections to re-adjust in the background after the section loads.\r\n         */\r\n        function readjustSections(v) {\r\n            if (v.yMovement === 'up') {\r\n                v.sectionsToMove.each(function (index) {\r\n                    $(this).css(getScrollProp(v.scrolling));\r\n                });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Gets the property used to create the scrolling effect when using jQuery animations\r\n         * depending on the plugin direction option.\r\n         */\r\n        function getScrollProp(propertyValue) {\r\n            if (options.direction === 'vertical') {\r\n                return { 'top': propertyValue };\r\n            }\r\n            return { 'left': propertyValue };\r\n        }\r\n\r\n        /**\r\n         * Scrolls the site without anymations (usually used in the background without the user noticing it)\r\n         */\r\n        function silentScroll(section, offset) {\r\n            if (options.css3) {\r\n                transformContainer(section, getTranslate3d(), false);\r\n            }\r\n            else {\r\n                section.css(getScrollProp(offset));\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Sets the URL hash for a section with slides\r\n         */\r\n        function setURLHash(anchorLink, sectionIndex) {\r\n            if (options.anchors.length) {\r\n                location.hash = anchorLink;\r\n\r\n                setBodyClass(location.hash);\r\n            } else {\r\n                setBodyClass(String(sectionIndex));\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Sets a class for the body of the page depending on the active section / slide\r\n         */\r\n        function setBodyClass(text) {\r\n            //removing the #\r\n            text = text.replace('#', '');\r\n\r\n            //removing previous anchor classes\r\n            $body[0].className = $body[0].className.replace(/\\b\\s?pp-viewing-[^\\s]+\\b/g, '');\r\n\r\n            //adding the current anchor\r\n            $body.addClass('pp-viewing-' + text);\r\n        }\r\n\r\n        //TO DO\r\n        function scrollToAnchor() {\r\n            //getting the anchor link in the URL and deleting the `#`\r\n            var value = window.location.hash.replace('#', '');\r\n            var sectionAnchor = value;\r\n            var section = $(document).find(SECTION_SEL + '[data-anchor=\"' + sectionAnchor + '\"]');\r\n\r\n            if (section.length > 0) {  //if theres any #\r\n                scrollPage(section, options.animateAnchor);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Determines if the transitions between sections still taking place.\r\n         * The variable `scrollDelay` adds a \"save zone\" for devices such as Apple laptops and Apple magic mouses\r\n         */\r\n        function isMoving() {\r\n            var timeNow = new Date().getTime();\r\n            // Cancel scroll if currently animating or within quiet period\r\n            if (timeNow - lastAnimation < scrollDelay + options.scrollingSpeed) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n\r\n        /**\r\n         * Actions to do when the hash (#) in the URL changes.\r\n         */\r\n        function hashChangeHandler() {\r\n            var value = window.location.hash.replace('#', '').split('/');\r\n            var sectionAnchor = value[0];\r\n\r\n            if (sectionAnchor.length) {\r\n                /*in order to call scrollpage() only once for each destination at a time\r\n                It is called twice for each scroll otherwise, as in case of using anchorlinks `hashChange`\r\n                event is fired on every scroll too.*/\r\n                if (sectionAnchor && sectionAnchor !== lastScrolledDestiny) {\r\n                    var section;\r\n\r\n                    if (isNaN(sectionAnchor)) {\r\n                        section = $(document).find('[data-anchor=\"' + sectionAnchor + '\"]');\r\n                    } else {\r\n                        section = $(SECTION_SEL).eq((sectionAnchor - 1));\r\n                    }\r\n                    scrollPage(section);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Cross browser transformations\r\n         */\r\n        function getTransforms(translate3d) {\r\n            return {\r\n                '-webkit-transform': translate3d,\r\n                '-moz-transform': translate3d,\r\n                '-ms-transform': translate3d,\r\n                'transform': translate3d\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Adds a css3 transform property to the container class with or without animation depending on the animated param.\r\n         */\r\n        function transformContainer(element, translate3d, animated) {\r\n            element.toggleClass('pp-easing', animated);\r\n\r\n            element.css(getTransforms(translate3d));\r\n        }\r\n\r\n        /**\r\n         * Detecting mousewheel scrolling\r\n         *\r\n         * http://blogs.sitepointstatic.com/examples/tech/mouse-wheel/index.html\r\n         * http://www.sitepoint.com/html5-javascript-mouse-wheel/\r\n         */\r\n        var prevTime = new Date().getTime();\r\n\r\n        function MouseWheelHandler(e) {\r\n            var curTime = new Date().getTime();\r\n\r\n            // cross-browser wheel delta\r\n            e = e || window.event;\r\n            var value = e.wheelDelta || -e.deltaY || -e.detail;\r\n            var delta = Math.max(-1, Math.min(1, value));\r\n\r\n            var horizontalDetection = typeof e.wheelDeltaX !== 'undefined' || typeof e.deltaX !== 'undefined';\r\n            var isScrollingVertically = (Math.abs(e.wheelDeltaX) < Math.abs(e.wheelDelta)) || (Math.abs(e.deltaX) < Math.abs(e.deltaY) || !horizontalDetection);\r\n\r\n            //Limiting the array to 150 (lets not waste memory!)\r\n            if (scrollings.length > 149) {\r\n                scrollings.shift();\r\n            }\r\n\r\n            //keeping record of the previous scrollings\r\n            scrollings.push(Math.abs(value));\r\n\r\n            //time difference between the last scroll and the current one\r\n            var timeDiff = curTime - prevTime;\r\n            prevTime = curTime;\r\n\r\n            //haven't they scrolled in a while?\r\n            //(enough to be consider a different scrolling action to scroll another section)\r\n            if (timeDiff > 200) {\r\n                //emptying the array, we dont care about old scrollings for our averages\r\n                scrollings = [];\r\n            }\r\n\r\n            if (!isMoving()) {\r\n                var activeSection = $(SECTION_ACTIVE_SEL);\r\n                var scrollable = isScrollable(activeSection);\r\n\r\n                var averageEnd = getAverage(scrollings, 10);\r\n                var averageMiddle = getAverage(scrollings, 70);\r\n                var isAccelerating = averageEnd >= averageMiddle;\r\n\r\n                if (isAccelerating && isScrollingVertically) {\r\n                    //scrolling down?\r\n                    if (delta < 0) {\r\n                        scrolling('down', scrollable);\r\n\r\n                        //scrolling up?\r\n                    } else if (delta > 0) {\r\n                        scrolling('up', scrollable);\r\n                    }\r\n                }\r\n\r\n                return false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Gets the average of the last `number` elements of the given array.\r\n         */\r\n        function getAverage(elements, number) {\r\n            var sum = 0;\r\n\r\n            //taking `number` elements from the end to make the average, if there are not enought, 1\r\n            var lastElements = elements.slice(Math.max(elements.length - number, 1));\r\n\r\n            for (var i = 0; i < lastElements.length; i++) {\r\n                sum = sum + lastElements[i];\r\n            }\r\n\r\n            return Math.ceil(sum / number);\r\n        }\r\n\r\n        /**\r\n         * Determines the way of scrolling up or down:\r\n         * by 'automatically' scrolling a section or by using the default and normal scrolling.\r\n         */\r\n        function scrolling(type, scrollable) {\r\n            var check;\r\n            var scrollSection;\r\n\r\n            if (type == 'down') {\r\n                check = 'bottom';\r\n                scrollSection = PP.moveSectionDown;\r\n            } else {\r\n                check = 'top';\r\n                scrollSection = PP.moveSectionUp;\r\n            }\r\n\r\n            if (scrollable.length > 0) {\r\n                //is the scrollbar at the start/end of the scroll?\r\n                if (isScrolled(check, scrollable)) {\r\n                    scrollSection();\r\n                } else {\r\n                    return true;\r\n                }\r\n            } else {\r\n                //moved up/down\r\n                scrollSection();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Return a boolean depending on whether the scrollable element is at the end or at the start of the scrolling\r\n         * depending on the given type.\r\n         */\r\n        function isScrolled(type, scrollable) {\r\n            if (type === 'top') {\r\n                return !scrollable.scrollTop();\r\n            } else if (type === 'bottom') {\r\n                return scrollable.scrollTop() + 1 + scrollable.innerHeight() >= scrollable[0].scrollHeight;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Determines whether the active section or slide is scrollable through and scrolling bar\r\n         */\r\n        function isScrollable(activeSection) {\r\n            return activeSection.filter('.pp-scrollable');\r\n        }\r\n\r\n        /**\r\n         * Removes the auto scrolling action fired by the mouse wheel and tackpad.\r\n         * After this function is called, the mousewheel and trackpad movements won't scroll through sections.\r\n         */\r\n        function removeMouseWheelHandler() {\r\n            if (container.get(0).addEventListener) {\r\n                container.get(0).removeEventListener('mousewheel', MouseWheelHandler, false); //IE9, Chrome, Safari, Oper\r\n                container.get(0).removeEventListener('wheel', MouseWheelHandler, false); //Firefox\r\n            } else {\r\n                container.get(0).detachEvent('onmousewheel', MouseWheelHandler); //IE 6/7/8\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Adds the auto scrolling action for the mouse wheel and tackpad.\r\n         * After this function is called, the mousewheel and trackpad movements will scroll through sections\r\n         */\r\n        function addMouseWheelHandler() {\r\n            if (container.get(0).addEventListener) {\r\n                container.get(0).addEventListener('mousewheel', MouseWheelHandler, false); //IE9, Chrome, Safari, Oper\r\n                container.get(0).addEventListener('wheel', MouseWheelHandler, false); //Firefox\r\n            } else {\r\n                container.get(0).attachEvent('onmousewheel', MouseWheelHandler); //IE 6/7/8\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Adds the possibility to auto scroll through sections on touch devices.\r\n         */\r\n        function addTouchHandler() {\r\n            if (isTouch) {\r\n                //Microsoft pointers\r\n                var MSPointer = getMSPointer();\r\n\r\n                container.off('touchstart ' + MSPointer.down).on('touchstart ' + MSPointer.down, touchStartHandler);\r\n                container.off('touchmove ' + MSPointer.move).on('touchmove ' + MSPointer.move, touchMoveHandler);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Removes the auto scrolling for touch devices.\r\n         */\r\n        function removeTouchHandler() {\r\n            if (isTouch) {\r\n                //Microsoft pointers\r\n                var MSPointer = getMSPointer();\r\n\r\n                container.off('touchstart ' + MSPointer.down);\r\n                container.off('touchmove ' + MSPointer.move);\r\n            }\r\n        }\r\n\r\n        /*\r\n        * Returns and object with Microsoft pointers (for IE<11 and for IE >= 11)\r\n        * http://msdn.microsoft.com/en-us/library/ie/dn304886(v=vs.85).aspx\r\n        */\r\n        function getMSPointer() {\r\n            var pointer;\r\n\r\n            //IE >= 11 & rest of browsers\r\n            if (window.PointerEvent) {\r\n                pointer = { down: 'pointerdown', move: 'pointermove', up: 'pointerup' };\r\n            }\r\n\r\n            //IE < 11\r\n            else {\r\n                pointer = { down: 'MSPointerDown', move: 'MSPointerMove', up: 'MSPointerUp' };\r\n            }\r\n\r\n            return pointer;\r\n        }\r\n\r\n        /**\r\n         * Gets the pageX and pageY properties depending on the browser.\r\n         * https://github.com/alvarotrigo/fullPage.js/issues/194#issuecomment-34069854\r\n         */\r\n        function getEventsPage(e) {\r\n            var events = new Array();\r\n\r\n            events.y = (typeof e.pageY !== 'undefined' && (e.pageY || e.pageX) ? e.pageY : e.touches[0].pageY);\r\n            events.x = (typeof e.pageX !== 'undefined' && (e.pageY || e.pageX) ? e.pageX : e.touches[0].pageX);\r\n\r\n            return events;\r\n        }\r\n\r\n        /**\r\n         * As IE >= 10 fires both touch and mouse events when using a mouse in a touchscreen\r\n         * this way we make sure that is really a touch event what IE is detecting.\r\n         */\r\n        function isReallyTouch(e) {\r\n            //if is not IE   ||  IE is detecting `touch` or `pen`\r\n            return typeof e.pointerType === 'undefined' || e.pointerType != 'mouse';\r\n        }\r\n\r\n        /**\r\n         * Getting the starting possitions of the touch event\r\n         */\r\n        function touchStartHandler(event) {\r\n            var e = event.originalEvent;\r\n\r\n            if (isReallyTouch(e)) {\r\n                var touchEvents = getEventsPage(e);\r\n                touchStartY = touchEvents.y;\r\n                touchStartX = touchEvents.x;\r\n            }\r\n        }\r\n\r\n        /* Detecting touch events\r\n        */\r\n        function touchMoveHandler(event) {\r\n            var e = event.originalEvent;\r\n\r\n            // additional: if one of the normalScrollElements isn't within options.normalScrollElementTouchThreshold hops up the DOM chain\r\n            if (!checkParentForNormalScrollElement(event.target) && isReallyTouch(e)) {\r\n\r\n                var activeSection = $(SECTION_ACTIVE_SEL);\r\n                var scrollable = isScrollable(activeSection);\r\n\r\n                if (!scrollable.length) {\r\n                    event.preventDefault();\r\n                }\r\n\r\n                if (!isMoving()) {\r\n                    var touchEvents = getEventsPage(e);\r\n                    touchEndY = touchEvents.y;\r\n                    touchEndX = touchEvents.x;\r\n\r\n                    //$('body').append('<span style=\"position:fixed; top: 250px; left: 20px; z-index:88; font-size: 25px; color: #000;\">touchEndY: ' + touchEndY  + '</div>');\r\n\r\n                    //X movement bigger than Y movement?\r\n                    if (options.direction === 'horizontal' && Math.abs(touchStartX - touchEndX) > (Math.abs(touchStartY - touchEndY))) {\r\n                        //is the movement greater than the minimum resistance to scroll?\r\n                        if (Math.abs(touchStartX - touchEndX) > (container.width() / 100 * options.touchSensitivity)) {\r\n                            if (touchStartX > touchEndX) {\r\n                                scrolling('down', scrollable);\r\n                            } else if (touchEndX > touchStartX) {\r\n                                scrolling('up', scrollable);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (Math.abs(touchStartY - touchEndY) > (container.height() / 100 * options.touchSensitivity)) {\r\n                            if (touchStartY > touchEndY) {\r\n                                scrolling('down', scrollable);\r\n                            } else if (touchEndY > touchStartY) {\r\n                                scrolling('up', scrollable);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * recursive function to loop up the parent nodes to check if one of them exists in options.normalScrollElements\r\n         * Currently works well for iOS - Android might need some testing\r\n         * @param  {Element} el  target element / jquery selector (in subsequent nodes)\r\n         * @param  {int}     hop current hop compared to options.normalScrollElementTouchThreshold\r\n         * @return {boolean} true if there is a match to options.normalScrollElements\r\n         */\r\n        function checkParentForNormalScrollElement(el, hop) {\r\n            hop = hop || 0;\r\n            var parent = $(el).parent();\r\n\r\n            if (hop < options.normalScrollElementTouchThreshold &&\r\n                parent.is(options.normalScrollElements)) {\r\n                return true;\r\n            } else if (hop == options.normalScrollElementTouchThreshold) {\r\n                return false;\r\n            } else {\r\n                return checkParentForNormalScrollElement(parent, ++hop);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Creates a vertical navigation bar.\r\n         */\r\n        function addVerticalNavigation() {\r\n            $body.append('<div id=\"' + SECTION_NAV + '\"><ul></ul></div>');\r\n            var nav = $(SECTION_NAV_SEL);\r\n\r\n            nav.css('color', options.navigation.textColor);\r\n\r\n            nav.addClass(options.navigation.position);\r\n\r\n            for (var cont = 0; cont < $(SECTION_SEL).length; cont++) {\r\n                var link = '';\r\n                if (options.anchors.length) {\r\n                    link = options.anchors[cont];\r\n                }\r\n                if (options.navigation.tooltips !== 'undefined') {\r\n                    var tooltip = options.navigation.tooltips[cont];\r\n                    if (typeof tooltip === 'undefined') {\r\n                        tooltip = '';\r\n                    }\r\n                }\r\n\r\n                nav.find('ul').append('<li data-tooltip=\"' + tooltip + '\"><a href=\"#' + link + '\"><span></span></a></li>');\r\n            }\r\n\r\n            nav.find('span').css('border-color', options.navigation.bulletsColor);\r\n        }\r\n\r\n        /**\r\n         * Activating the website navigation dots according to the given slide name.\r\n         */\r\n        function activateNavDots(name, sectionIndex) {\r\n            if (options.navigation) {\r\n                $(SECTION_NAV_SEL).find(ACTIVE_SEL).removeClass(ACTIVE);\r\n                if (name) {\r\n                    $(SECTION_NAV_SEL).find('a[href=\"#' + name + '\"]').addClass(ACTIVE);\r\n                } else {\r\n                    $(SECTION_NAV_SEL).find('li').eq(sectionIndex).find('a').addClass(ACTIVE);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Activating the website main menu elements according to the given slide name.\r\n         */\r\n        function activateMenuElement(name) {\r\n            if (options.menu) {\r\n                $(options.menu).find(ACTIVE_SEL).removeClass(ACTIVE);\r\n                $(options.menu).find('[data-menuanchor=\"' + name + '\"]').addClass(ACTIVE);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Checks for translate3d support\r\n         * @return boolean\r\n         * http://stackoverflow.com/questions/5661671/detecting-transform-translate3d-support\r\n         */\r\n        function support3d() {\r\n            var el = document.createElement('p'),\r\n                has3d,\r\n                transforms = {\r\n                    'webkitTransform': '-webkit-transform',\r\n                    'OTransform': '-o-transform',\r\n                    'msTransform': '-ms-transform',\r\n                    'MozTransform': '-moz-transform',\r\n                    'transform': 'transform'\r\n                };\r\n\r\n            // Add it to the body to get the computed style.\r\n            document.body.insertBefore(el, null);\r\n\r\n            for (var t in transforms) {\r\n                if (el.style[t] !== undefined) {\r\n                    el.style[t] = 'translate3d(1px,1px,1px)';\r\n                    has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);\r\n                }\r\n            }\r\n\r\n            document.body.removeChild(el);\r\n\r\n            return (has3d !== undefined && has3d.length > 0 && has3d !== 'none');\r\n        }\r\n\r\n        /**\r\n         * Gets the translate3d property to apply when using css3:true depending on the `direction` option.\r\n         */\r\n        function getTranslate3d() {\r\n            if (options.direction !== 'vertical') {\r\n                return 'translate3d(-100%, 0px, 0px)';\r\n            }\r\n\r\n            return 'translate3d(0px, -100%, 0px)';\r\n        }\r\n\r\n        /*\r\n      * Destroys  plugin events and optinally its html markup and styles\r\n      */\r\n        function destroy() {\r\n            setAllowScrolling(false);\r\n            setKeyboardScrolling(false);\r\n            container.addClass(DESTROYED);\r\n\r\n            $(window).off('hashchange', hashChangeHandler);\r\n\r\n            $(document)\r\n                .off('keydown', keydownHandler)\r\n                .off('click touchstart', SECTION_NAV_SEL + ' a', sectionBulletHandler)\r\n                .off('mouseenter', SECTION_NAV_SEL + ' li', displayTooltip)\r\n                .off('mouseleave', SECTION_NAV_SEL + ' li', hideTooltip);\r\n\r\n            destroyStructure();\r\n        }\r\n\r\n        /*\r\n         * Removes inline styles added by plugin\r\n         */\r\n        function destroyStructure() {\r\n            $(SECTION_NAV_SEL).remove();\r\n\r\n            container.css({\r\n                'height': '',\r\n                'position': '',\r\n                '-ms-touch-action': '',\r\n                'touch-action': ''\r\n            });\r\n            $htmlBody.css({\r\n                'overflow': '',\r\n                'height': ''\r\n            });\r\n            $('html').removeClass(ENABLED);\r\n            $(SECTION_SEL).removeClass(SECTION);\r\n            $(WRAPPER_SEL).removeClass(WRAPPER);\r\n        }\r\n\r\n    };\r\n})(jQuery, document, window);"]}